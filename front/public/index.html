<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="MEPLANSUS - Sistema integral de diagnóstico para fortalecer la gestión pública municipal mediante datos inteligentes y estrategias sostenibles.">
    <meta name="keywords" content="evaluación municipal, MEPLANSUS, gestión pública, desarrollo sostenible, ODS">
    <title>MEPLANSUS - Sistema de Evaluación Municipal</title>
    <link rel="stylesheet" href="/landing.css">
    <link rel="stylesheet" href="/phases-new.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <div class="logo">
                    <img src="/meplansus-logo.png" alt="MEPLANSUS Logo" width="40" height="40" style="display: block;">
                </div>
                <span class="brand-name">MEPLANSUS</span>
            </div>

            <div class="nav-links">
                <a href="#modelo">El Modelo</a>
                <a href="#fases">Fases</a>
                <a href="/results">Resultados</a>
            </div>

            <a href="#" class="btn-primary" onclick="openLoginModal(); return false;">Ingresar</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-bg"></div>
        <div class="container">
            <div class="hero-content">
                <div class="badge">
                    MEPLANSUS
                </div>

                <h1 class="hero-title">
                    <span class="gradient-text">Planeación municipal</span> basada en datos
                </h1>

                <p class="hero-description">
                    Sistema de evaluación integral para municipios. Indicadores verificables alineados a los ODS.
                </p>

                <div class="hero-buttons">
                    <a href="#" class="btn-hero-primary" onclick="openLoginModal(); return false;">Iniciar
                        Evaluación</a>
                    <a href="/results" class="btn-hero-secondary">Ver Resultados</a>
                </div>

                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-number">4</div>
                        <div class="stat-label">Dimensiones</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">17</div>
                        <div class="stat-label">ODS Integrados</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Digital</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">IP</div>
                        <div class="stat-label">Desempeño</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Showcase Carousel -->
    <section class="showcase-section">
        <div class="container">
            <div class="showcase-carousel">
                <div class="carousel-track">
                    <div class="showcase-card">
                        <img src="/carousel-dashboard.png" alt="Dashboard MEPLANSUS">
                        <div class="showcase-caption">
                            <h3>Dashboard Interactivo</h3>
                            <p>Visualiza métricas en tiempo real por dimensión municipal</p>
                        </div>
                    </div>
                    <div class="showcase-card">
                        <img src="/carousel-dimensions.png" alt="4 Dimensiones de Evaluación">
                        <div class="showcase-caption">
                            <h3>4 Dimensiones de Evaluación</h3>
                            <p>Institucional • Económica • Social • Ambiental</p>
                        </div>
                    </div>
                    <div class="showcase-card">
                        <img src="/carousel-map.png" alt="Cobertura Nacional">
                        <div class="showcase-caption">
                            <h3>Cobertura Nacional</h3>
                            <p>Municipios evaluados en todo México</p>
                        </div>
                    </div>
                    <div class="showcase-card">
                        <img src="/meplansus-tree.png?v=3" alt="Estructura Jerárquica MEPLANSUS">
                        <div class="showcase-caption">
                            <h3>Estructura Multinivel</h3>
                            <p>Desde indicadores micro hasta índices macro</p>
                        </div>
                    </div>
                    <div class="showcase-card">
                        <img src="/meplansus-phases.png?v=3" alt="Proceso Cíclico MEPLANSUS">
                        <div class="showcase-caption">
                            <h3>Metodología Cíclica</h3>
                            <p>Diagnóstico → Planeación → Implementación → Evaluación</p>
                        </div>
                    </div>
                </div>
                <div class="carousel-dots">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- About MEPLANSUS Section -->
    <section class="about-section">
        <div class="container">
            <div class="about-grid">
                <div class="about-content">
                    <div class="section-tag-gold">Acerca de MEPLANSUS</div>
                    <h2>¿Qué es MEPLANSUS?</h2>
                    <p class="lead-text">
                        El <strong>Modelo de Evaluación para una Planeación Sustentable (MEPLANSUS)</strong> es un
                        sistema integral
                        de diagnóstico y seguimiento diseñado específicamente para fortalecer la gestión pública
                        municipal mediante
                        la recolección, análisis y visualización de datos estratégicos.
                    </p>
                    <p>
                        Desarrollado con base en los <strong>Objetivos de Desarrollo Sostenible (ODS)</strong> de la ONU
                        y las mejores
                        prácticas en gestión pública, MEPLANSUS permite a los municipios evaluar su desempeño de forma
                        objetiva,
                        identificar áreas de oportunidad y tomar decisiones basadas en evidencia para promover un
                        desarrollo
                        territorial sostenible.
                    </p>

                    <div class="key-points">
                        <div class="point-item">
                            <div class="point-icon">✓</div>
                            <div>
                                <strong>Diagnóstico preciso en 4 dimensiones</strong>
                                <p>Identifica fortalezas y debilidades institucionales, económicas, sociales y
                                    ambientales</p>
                            </div>
                        </div>
                        <div class="point-item">
                            <div class="point-icon">✓</div>
                            <div>
                                <strong>Priorización inteligente de recursos</strong>
                                <p>Invierte donde más impacto puedes generar con evidencia sólida</p>
                            </div>
                        </div>
                        <div class="point-item">
                            <div class="point-icon">✓</div>
                            <div>
                                <strong>Reportes automáticos y transparentes</strong>
                                <p>Demuestra resultados claros a ciudadanos y evaluadores externos</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="about-stats">
                    <div class="stat-card">
                        <div class="stat-number-large">4</div>
                        <div class="stat-title">Dimensiones</div>
                        <p>Institucional, Económica, Social y Ambiental</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number-large">100+</div>
                        <div class="stat-title">Indicadores</div>
                        <p>Métricas específicas de evaluación</p>
                    </div>
                    <div class="stat-card accent-card">
                        <svg width="48" height="48" fill="currentColor" viewBox="0 0 48 48"
                            style="margin-bottom: 1rem;">
                            <path d="M20 4L4 12l16 8 16-8-16-8zm0 16l-14-7v10l14 7 14-7V13l-14 7z" />
                        </svg>
                        <div class="stat-title">Transparencia Total</div>
                        <p>Datos abiertos y accesibles para la ciudadanía</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modelo Section -->
    <section id="modelo" class="modelo-section">
        <div class="container">
            <div class="section-header">
                <h2>Arquitectura del Modelo</h2>
                <p>Una estructura jerárquica diseñada para la claridad y la acción.</p>
            </div>

            <div class="bento-grid">
                <div class="bento-card large">
                    <div class="card-icon">
                        <svg width="32" height="32" fill="currentColor" viewBox="0 0 32 32">
                            <rect x="4" y="4" width="8" height="8" rx="2" />
                            <rect x="4" y="16" width="8" height="8" rx="2" />
                            <rect x="16" y="4" width="8" height="8" rx="2" />
                            <rect x="16" y="16" width="8" height="8" rx="2" />
                        </svg>
                    </div>
                    <h3>Enfoque Modular</h3>
                    <p>Desde indicadores micro hasta índices macro. MEPLANSUS permite diseccionar el desempeño
                        territorial con precisión quirúrgica.</p>

                    <div class="hierarchy-image-container">
                        <img src="/meplansus-tree.png?v=3" alt="Estructura Jerárquica MEPLANSUS - Macro, Meso, Micro"
                            class="hierarchy-image">
                    </div>
                </div>

                <div class="bento-cards-column">
                    <a href="/results" class="bento-card dark clickable">
                        <div class="card-glow"></div>
                        <div class="card-content">
                            <svg width="40" height="40" fill="currentColor" viewBox="0 0 40 40">
                                <rect x="6" y="24" width="6" height="10" rx="2" />
                                <rect x="14" y="16" width="6" height="18" rx="2" />
                                <rect x="22" y="8" width="6" height="26" rx="2" />
                                <rect x="30" y="12" width="6" height="22" rx="2" />
                            </svg>
                            <h3>Datos Abiertos</h3>
                            <p>Transparencia total. Acceda a dashboards públicos y compare el desempeño municipal.</p>
                            <span class="card-link">Explorar Dashboard →</span>
                        </div>
                    </a>

                    <div class="bento-card accent">
                        <h3>
                            <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" fill="none" stroke-width="2" />
                                <circle cx="12" cy="12" r="3" fill="currentColor" />
                            </svg>
                            Niveles de Agregación
                        </h3>
                        <div class="levels-list">
                            <div class="level-item">
                                <div class="level-indicator macro"></div>
                                <span>Macro (Sistema)</span>
                            </div>
                            <div class="level-item">
                                <div class="level-indicator meso"></div>
                                <span>Meso (Componente)</span>
                            </div>
                            <div class="level-item">
                                <div class="level-indicator micro"></div>
                                <span>Micro (Indicador)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Fases Section -->
    <section id="fases" class="fases-section">
        <div class="container">
            <div class="section-header">
                <div class="section-tag-gold">Metodología Cíclica</div>
                <h2>Proceso de Mejora Continua</h2>
                <p>Sistema iterativo de 4 fases que garantiza resultados medibles y sostenibles en el tiempo.</p>
            </div>

            <div class="phases-modern-grid">
                <div class="phase-card phase-1">
                    <div class="phase-badge">01</div>
                    <div class="phase-icon-box">
                        <svg width="40" height="40" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" />
                        </svg>
                    </div>
                    <h3>Diagnóstico</h3>
                    <p>Evaluación completa de las 4 dimensiones municipales con indicadores específicos y medibles</p>
                    <ul class="phase-items">
                        <li>Recolección de datos</li>
                        <li>Análisis situacional</li>
                        <li>Identificación de brechas</li>
                    </ul>
                </div>

                <div class="phase-card phase-2">
                    <div class="phase-badge">02</div>
                    <div class="phase-icon-box">
                        <svg width="40" height="40" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" />
                        </svg>
                    </div>
                    <h3>Planeación</h3>
                    <p>Diseño estratégico de acciones priorizadas basado en datos del diagnóstico</p>
                    <ul class="phase-items">
                        <li>Priorización de acciones</li>
                        <li>Asignación de recursos</li>
                        <li>Definición de metas</li>
                    </ul>
                </div>

                <div class="phase-card phase-3">
                    <div class="phase-badge">03</div>
                    <div class="phase-icon-box">
                        <svg width="40" height="40" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" />
                        </svg>
                    </div>
                    <h3>Implementación</h3>
                    <p>Ejecución de acciones con seguimiento en tiempo real y ajustes dinámicos</p>
                    <ul class="phase-items">
                        <li>Ejecución del plan</li>
                        <li>Monitoreo continuo</li>
                        <li>Ajustes adaptativos</li>
                    </ul>
                </div>

                <div class="phase-card phase-4">
                    <div class="phase-badge">04</div>
                    <div class="phase-icon-box">
                        <svg width="40" height="40" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
                        </svg>
                    </div>
                    <h3>Evaluación</h3>
                    <p>Medición de resultados, generación de reportes y retroalimentación al ciclo</p>
                    <ul class="phase-items">
                        <li>Medición de impacto</li>
                        <li>Reportes automáticos</li>
                        <li>Retroalimentación</li>
                    </ul>
                </div>
            </div>

            <div class="cycle-note">
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z" />
                </svg>
                <p><strong>Mejora Continua:</strong> Los resultados de la evaluación alimentan el siguiente diagnóstico,
                    creando un ciclo permanente de optimización municipal.</p>
            </div>
        </div>
    </section>

    <!-- Dimensions Section -->
    <section class="dimensions-section">
        <div class="container">
            <div class="section-header">
                <div class="section-tag-gold">Las 4 Dimensiones</div>
                <h2>Evaluación Integral Multidimensional</h2>
                <p>MEPLANSUS analiza el desempeño municipal a través de cuatro dimensiones fundamentales, cada una con
                    indicadores específicos alineados a los ODS.</p>
            </div>

            <div class="dimensions-grid">
                <div class="dimension-card dim-institutional">
                    <div class="dim-icon">
                        <svg width="48" height="48" fill="currentColor" viewBox="0 0 48 48">
                            <path d="M24 6L8 14v10c0 10 6.5 19 16 22 9.5-3 16-12 16-22V14L24 6z" />
                        </svg>
                    </div>
                    <h3>Institucional</h3>
                    <p>Capacidad de gobernanza, transparencia y rendición de cuentas municipal.</p>
                    <ul class="dim-list">
                        <li>Marco normativo y reglamentario</li>
                        <li>Sistemas de control interno</li>
                        <li>Capacitación del personal</li>
                        <li>Participación ciudadana</li>
                    </ul>
                    <div class="dim-metric">
                        <span class="metric-label">ODS Relacionados:</span>
                        <span class="metric-value">16, 17</span>
                    </div>
                </div>

                <div class="dimension-card dim-economic">
                    <div class="dim-icon">
                        <svg width="48" height="48" fill="currentColor" viewBox="0 0 48 48">
                            <circle cx="24" cy="24" r="18" />
                            <path d="M24 12v12l8 4" stroke="white" stroke-width="2" fill="none" />
                        </svg>
                    </div>
                    <h3>Económica</h3>
                    <p>Eficiencia en la gestión financiera y desarrollo económico local sostenible.</p>
                    <ul class="dim-list">
                        <li>Ingresos y egresos municipales</li>
                        <li>Inversión pública productiva</li>
                        <li>Fomento económico local</li>
                        <li>Empleo y competitividad</li>
                    </ul>
                    <div class="dim-metric">
                        <span class="metric-label">ODS Relacionados:</span>
                        <span class="metric-value">8, 9, 11</span>
                    </div>
                </div>

                <div class="dimension-card dim-social">
                    <div class="dim-icon">
                        <svg width="48" height="48" fill="currentColor" viewBox="0 0 48 48">
                            <circle cx="16" cy="14" r="6" />
                            <circle cx="32" cy="14" r="6" />
                            <path d="M8 40c0-6 4-10 8-10h16c4 0 8 4 8 10v4H8v-4z" />
                        </svg>
                    </div>
                    <h3>Social</h3>
                    <p>Bienestar, equidad y calidad de vida de la población municipal.</p>
                    <ul class="dim-list">
                        <li>Educación y salud</li>
                        <li>Seguridad pública</li>
                        <li>Cohesión social</li>
                        <li>Infraestructura básica</li>
                    </ul>
                    <div class="dim-metric">
                        <span class="metric-label">ODS Relacionados:</span>
                        <span class="metric-value">1, 2, 3, 4, 5, 10</span>
                    </div>
                </div>

                <div class="dimension-card dim-environmental">
                    <div class="dim-icon">
                        <svg width="48" height="48" fill="currentColor" viewBox="0 0 48 48">
                            <path
                                d="M24 4C16 4 8 12 8 20c0 12 16 24 16 24s16-12 16-24c0-8-8-16-16-16zm0 22c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z" />
                        </svg>
                    </div>
                    <h3>Ambiental</h3>
                    <p>Gestión sostenible de recursos naturales y protección del medio ambiente.</p>
                    <ul class="dim-list">
                        <li>Gestión de residuos</li>
                        <li>Calidad del aire y agua</li>
                        <li>Áreas verdes protegidas</li>
                        <li>Energías renovables</li>
                    </ul>
                    <div class="dim-metric">
                        <span class="metric-label">ODS Relacionados:</span>
                        <span class="metric-value">6, 7, 13, 14, 15</span>
                    </div>
                </div>
            </div>

            <div class="dimensions-cta">
                <p>Cada dimensión se evalúa con métricas específicas y ponderación científica para generar un índice
                    global de desempeño municipal.</p>
                <a href="/results" class="btn-secondary">Explorar Resultados por Dimensión →</a>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>La sostenibilidad se mide.</h2>
                <p>Únase a la red de municipios que basan sus decisiones en evidencia.</p>
                <a href="#" class="btn-cta" onclick="openLoginModal(); return false;">Comenzar Evaluación</a>
                <div class="cta-features">
                    <span>
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 0L10 6L16 8L10 10L8 16L6 10L0 8L6 6L8 0Z" />
                        </svg>
                        Sin costo inicial
                    </span>
                    <span>•</span>
                    <span>
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <circle cx="5" cy="6" r="2" />
                            <circle cx="11" cy="6" r="2" />
                            <path d="M3 10c0-2 2-3 5-3s5 1 5 3v3H3v-3z" />
                        </svg>
                        Soporte incluido
                    </span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer-expanded">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>MEPLANSUS</h4>
                    <p>Modelo de Evaluación para una Planeación Sustentable. Fortaleciendo la gestión pública municipal
                        con datos y evidencia.</p>
                </div>
                <div class="footer-col">
                    <h4>Enlaces Rápidos</h4>
                    <ul>
                        <li><a href="#modelo">El Modelo</a></li>
                        <li><a href="#fases">Metodología</a></li>
                        <li><a href="/results">Resultados</a></li>
                        <li><a href="#" onclick="openLoginModal(); return false;">Acceso al Sistema</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Recursos</h4>
                    <ul>
                        <li><a href="/results">Dashboard Público</a></li>
                        <li><a href="#">Documentación</a></li>
                        <li><a href="#">Soporte Técnico</a></li>
                        <li><a href="#">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>Contacto</h4>
                    <p>Sistema desarrollado para el fortalecimiento de capacidades municipales en México.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 MEPLANSUS. Todos los derechos reservados. | Alineado con los ODS de la ONU</p>
            </div>
        </div>
    </footer>

    <!-- Auth Modal (Login/Register) -->
    <div id="loginModal" class="login-modal" style="display: none;">
        <div class="login-modal-overlay" onclick="closeLoginModal()"></div>
        <div class="login-modal-content">
            <button class="login-modal-close" onclick="closeLoginModal()" aria-label="Cerrar">
                <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M6 6l12 12M18 6L6 18" />
                </svg>
            </button>

            <!-- Tabs -->
            <div class="auth-tabs">
                <button class="auth-tab active" id="loginTab" onclick="switchTab('login')">Iniciar Sesión</button>
                <button class="auth-tab" id="registerTab" onclick="switchTab('register')">Registrarse</button>
            </div>

            <div id="authError" class="login-error" style="display: none;"></div>
            <div id="authSuccess" class="login-success" style="display: none;"></div>

            <!-- Login Form -->
            <form id="loginForm" class="login-form">
                <div class="login-form-group">
                    <label for="loginEmail">Correo Electrónico</label>
                    <input type="email" id="loginEmail" name="email" placeholder="correo@ejemplo.com" required
                        autocomplete="email" />
                </div>

                <div class="login-form-group">
                    <label for="loginPassword">Contraseña</label>
                    <input type="password" id="loginPassword" name="password" placeholder="••••••••" required
                        autocomplete="current-password" />
                </div>

                <button type="submit" class="login-submit-btn" id="loginSubmitBtn">
                    <span id="loginBtnText">Iniciar Sesión</span>
                    <span id="loginSpinner" class="login-spinner" style="display: none;"></span>
                </button>
            </form>

            <!-- Register Form -->
            <form id="registerForm" class="login-form" style="display: none;">
                <div class="login-form-row">
                    <div class="login-form-group">
                        <label for="regName">Nombre Completo</label>
                        <input type="text" id="regName" name="name" placeholder="Juan Pérez" required />
                    </div>
                    <div class="login-form-group">
                        <label for="regPhone">Teléfono</label>
                        <input type="tel" id="regPhone" name="phone" placeholder="55 1234 5678" />
                    </div>
                </div>

                <div class="login-form-group">
                    <label for="regEmail">Correo Electrónico</label>
                    <input type="email" id="regEmail" name="email" placeholder="correo@ejemplo.com" required />
                </div>

                <div class="login-form-group">
                    <label for="regMunicipality">Municipio</label>
                    <select id="regMunicipality" name="municipality" required>
                        <option value="">Selecciona tu municipio</option>
                        <option value="ACULCO">ACULCO</option>
                        <option value="ALMOLOYA DE ALQUISIRAS">ALMOLOYA DE ALQUISIRAS</option>
                        <option value="ALMOLOYA DE JUÁREZ">ALMOLOYA DE JUÁREZ</option>
                        <option value="ALMOLOYA DEL RÍO">ALMOLOYA DEL RÍO</option>
                        <option value="AMANALCO">AMANALCO</option>
                        <option value="AMATEPEC">AMATEPEC</option>
                        <option value="AMECAMECA">AMECAMECA</option>
                        <option value="APAXCO">APAXCO</option>
                        <option value="ATENCO">ATENCO</option>
                        <option value="ATIZAPÁN">ATIZAPÁN</option>
                        <option value="ATIZAPÁN DE ZARAGOZA">ATIZAPÁN DE ZARAGOZA</option>
                        <option value="ATLACOMULCO">ATLACOMULCO</option>
                        <option value="ATLAUTLA">ATLAUTLA</option>
                        <option value="AXAPUSCO">AXAPUSCO</option>
                        <option value="AYAPANGO">AYAPANGO</option>
                        <option value="CALIMAYA">CALIMAYA</option>
                        <option value="CAPULHUAC">CAPULHUAC</option>
                        <option value="CHALCO">CHALCO</option>
                        <option value="CHAPA DE MOTA">CHAPA DE MOTA</option>
                        <option value="CHAPULTEPEC">CHAPULTEPEC</option>
                        <option value="CHIAUTLA">CHIAUTLA</option>
                        <option value="CHICOLOAPAN">CHICOLOAPAN</option>
                        <option value="CHICONCUAC">CHICONCUAC</option>
                        <option value="CHIMALHUACÁN">CHIMALHUACÁN</option>
                        <option value="COACALCO DE BERRIOZÁBAL">COACALCO DE BERRIOZÁBAL</option>
                        <option value="COATEPEC HARINAS">COATEPEC HARINAS</option>
                        <option value="COCOTITLÁN">COCOTITLÁN</option>
                        <option value="COYOTEPEC">COYOTEPEC</option>
                        <option value="CUAUTITLÁN">CUAUTITLÁN</option>
                        <option value="CUAUTITLÁN IZCALLI">CUAUTITLÁN IZCALLI</option>
                        <option value="DONATO GUERRA">DONATO GUERRA</option>
                        <option value="ECATEPEC DE MORELOS">ECATEPEC DE MORELOS</option>
                        <option value="ECATZINGO">ECATZINGO</option>
                        <option value="EL ORO">EL ORO</option>
                        <option value="HUEHUETOCA">HUEHUETOCA</option>
                        <option value="HUEYPOXTLA">HUEYPOXTLA</option>
                        <option value="HUIXQUILUCAN">HUIXQUILUCAN</option>
                        <option value="ISIDRO FABELA">ISIDRO FABELA</option>
                        <option value="IXTAPALUCA">IXTAPALUCA</option>
                        <option value="IXTAPAN DE LA SAL">IXTAPAN DE LA SAL</option>
                        <option value="IXTAPAN DEL ORO">IXTAPAN DEL ORO</option>
                        <option value="IXTLAHUACA">IXTLAHUACA</option>
                        <option value="JALTENCO">JALTENCO</option>
                        <option value="JILOTEPEC">JILOTEPEC</option>
                        <option value="JILOTZINGO">JILOTZINGO</option>
                        <option value="JIQUIPILCO">JIQUIPILCO</option>
                        <option value="JOCOTITLÁN">JOCOTITLÁN</option>
                        <option value="JOQUICINGO">JOQUICINGO</option>
                        <option value="JUCHITEPEC">JUCHITEPEC</option>
                        <option value="LA PAZ">LA PAZ</option>
                        <option value="LERMA">LERMA</option>
                        <option value="LUVIANOS">LUVIANOS</option>
                        <option value="MALINALCO">MALINALCO</option>
                        <option value="MELCHOR OCAMPO">MELCHOR OCAMPO</option>
                        <option value="METEPEC">METEPEC</option>
                        <option value="MEXICALTZINGO">MEXICALTZINGO</option>
                        <option value="MORELOS">MORELOS</option>
                        <option value="NAUCALPAN DE JUÁREZ">NAUCALPAN DE JUÁREZ</option>
                        <option value="NEXTLALPAN">NEXTLALPAN</option>
                        <option value="NEZAHUALCÓYOTL">NEZAHUALCÓYOTL</option>
                        <option value="NICOLÁS ROMERO">NICOLÁS ROMERO</option>
                        <option value="NOPALTEPEC">NOPALTEPEC</option>
                        <option value="OCOYOACAC">OCOYOACAC</option>
                        <option value="OCUILAN">OCUILAN</option>
                        <option value="OTUMBA">OTUMBA</option>
                        <option value="OTZOLOAPAN">OTZOLOAPAN</option>
                        <option value="OTZOLOTEPEC">OTZOLOTEPEC</option>
                        <option value="OZUMBA">OZUMBA</option>
                        <option value="PAPALOTLA">PAPALOTLA</option>
                        <option value="POLOTITLÁN">POLOTITLÁN</option>
                        <option value="RAYÓN">RAYÓN</option>
                        <option value="SAN ANTONIO LA ISLA">SAN ANTONIO LA ISLA</option>
                        <option value="SAN FELIPE DEL PROGRESO">SAN FELIPE DEL PROGRESO</option>
                        <option value="SAN JOSÉ DEL RINCÓN">SAN JOSÉ DEL RINCÓN</option>
                        <option value="SAN MARTÍN DE LAS PIRÁMIDES">SAN MARTÍN DE LAS PIRÁMIDES</option>
                        <option value="SAN MATEO ATENCO">SAN MATEO ATENCO</option>
                        <option value="SAN SIMÓN DE GUERRERO">SAN SIMÓN DE GUERRERO</option>
                        <option value="SANTO TOMÁS">SANTO TOMÁS</option>
                        <option value="SOYANIQUILPAN DE JUÁREZ">SOYANIQUILPAN DE JUÁREZ</option>
                        <option value="SULTEPEC">SULTEPEC</option>
                        <option value="TECÁMAC">TECÁMAC</option>
                        <option value="TEJUPILCO">TEJUPILCO</option>
                        <option value="TEMAMATLA">TEMAMATLA</option>
                        <option value="TEMASCALAPA">TEMASCALAPA</option>
                        <option value="TEMASCALCINGO">TEMASCALCINGO</option>
                        <option value="TEMASCALTEPEC">TEMASCALTEPEC</option>
                        <option value="TEMOAYA">TEMOAYA</option>
                        <option value="TENANCINGO">TENANCINGO</option>
                        <option value="TENANGO DEL AIRE">TENANGO DEL AIRE</option>
                        <option value="TENANGO DEL VALLE">TENANGO DEL VALLE</option>
                        <option value="TEOLOYUCAN">TEOLOYUCAN</option>
                        <option value="TEOTIHUACÁN">TEOTIHUACÁN</option>
                        <option value="TEPETLAOXTOC">TEPETLAOXTOC</option>
                        <option value="TEPETLIXPA">TEPETLIXPA</option>
                        <option value="TEPOTZOTLÁN">TEPOTZOTLÁN</option>
                        <option value="TEQUIXQUIAC">TEQUIXQUIAC</option>
                        <option value="TEXCALTITLÁN">TEXCALTITLÁN</option>
                        <option value="TEXCALYACAC">TEXCALYACAC</option>
                        <option value="TEXCOCO">TEXCOCO</option>
                        <option value="TEZOYUCA">TEZOYUCA</option>
                        <option value="TIANGUISTENCO">TIANGUISTENCO</option>
                        <option value="TIMILPAN">TIMILPAN</option>
                        <option value="TLALMANALCO">TLALMANALCO</option>
                        <option value="TLALNEPANTLA DE BAZ">TLALNEPANTLA DE BAZ</option>
                        <option value="TLATLAYA">TLATLAYA</option>
                        <option value="TOLUCA">TOLUCA</option>
                        <option value="TONATICO">TONATICO</option>
                        <option value="TULTEPEC">TULTEPEC</option>
                        <option value="TULTITLÁN">TULTITLÁN</option>
                        <option value="VALLE DE BRAVO">VALLE DE BRAVO</option>
                        <option value="VALLE DE CHALCO SOLIDARIDAD">VALLE DE CHALCO SOLIDARIDAD</option>
                        <option value="VILLA DE ALLENDE">VILLA DE ALLENDE</option>
                        <option value="VILLA DEL CARBÓN">VILLA DEL CARBÓN</option>
                        <option value="VILLA GUERRERO">VILLA GUERRERO</option>
                        <option value="VILLA VICTORIA">VILLA VICTORIA</option>
                        <option value="XALATLACO">XALATLACO</option>
                        <option value="XONACATLÁN">XONACATLÁN</option>
                        <option value="ZACAZONAPAN">ZACAZONAPAN</option>
                        <option value="ZACUALPAN">ZACUALPAN</option>
                        <option value="ZINACANTEPEC">ZINACANTEPEC</option>
                        <option value="ZUMPAHUACÁN">ZUMPAHUACÁN</option>
                        <option value="ZUMPANGO">ZUMPANGO</option>
                    </select>
                </div>

                <div class="login-form-group">
                    <label for="regPassword">Contraseña</label>
                    <input type="password" id="regPassword" name="password" placeholder="Mínimo 6 caracteres" required
                        minlength="6" />
                </div>

                <div class="login-form-group">
                    <label for="regConfirmPassword">Confirmar Contraseña</label>
                    <input type="password" id="regConfirmPassword" name="confirmPassword" placeholder="••••••••"
                        required />
                </div>

                <button type="submit" class="login-submit-btn" id="registerSubmitBtn">
                    <span id="registerBtnText">Registrarse</span>
                    <span id="registerSpinner" class="login-spinner" style="display: none;"></span>
                </button>
            </form>
        </div>
    </div>

    <style>
        /* Login Modal Styles */
        .login-modal {
            position: fixed;
            inset: 0;
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            animation: fadeIn 0.2s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .login-modal-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(4px);
        }

        .login-modal-content {
            position: relative;
            background: white;
            border-radius: 24px;
            padding: 2.5rem;
            max-width: 450px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: zoomIn 0.2s ease-out;
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .login-modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: transparent;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-modal-close:hover {
            background: #f1f5f9;
            color: #475569;
        }

        .login-modal-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-modal-header h2 {
            font-size: 1.875rem;
            font-weight: 900;
            color: var(--primary-dark);
            margin: 0 0 0.5rem 0;
        }

        .login-modal-header p {
            color: #64748b;
            font-size: 0.9375rem;
            margin: 0;
        }

        .login-error {
            background: #fee2e2;
            border: 1px solid #fca5a5;
            color: #991b1b;
            padding: 0.875rem;
            border-radius: 12px;
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .login-error::before {
            content: '⚠';
            font-size: 1.125rem;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }

        .login-form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .login-form-group label {
            font-size: 0.8125rem;
            font-weight: 700;
            color: #334155;
            text-transform: uppercase;
            letter-spacing: 0.025em;
        }

        .login-form-group input {
            padding: 0.875rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.2s ease;
            outline: none;
        }

        .login-form-group input:focus {
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(200, 159, 93, 0.1);
        }

        .login-submit-btn {
            margin-top: 0.5rem;
            padding: 1rem;
            background: var(--accent-gold);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .login-submit-btn:hover:not(:disabled) {
            background: var(--accent-copper);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(200, 159, 93, 0.4);
        }

        .login-submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .login-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid white;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .login-modal-footer {
            margin-top: 1.5rem;
            text-align: center;
            font-size: 0.875rem;
            color: #64748b;
        }

        .login-modal-footer a {
            color: var(--accent-gold);
            font-weight: 600;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .login-modal-footer a:hover {
            color: var(--accent-copper);
        }

        /* Auth Tabs */
        .auth-tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 1.5rem;
        }

        .auth-tab {
            flex: 1;
            padding: 1rem;
            background: transparent;
            border: none;
            font-size: 0.9375rem;
            font-weight: 700;
            color: #64748b;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
        }

        .auth-tab:hover {
            color: #334155;
        }

        .auth-tab.active {
            color: var(--accent-gold);
            border-bottom-color: var(--accent-gold);
            background: rgba(200, 159, 93, 0.05);
        }

        /* Form Row */
        .login-form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        /* Select Styles */
        .login-form-group select {
            padding: 0.875rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.2s ease;
            outline: none;
            background: white;
            width: 100%;
            cursor: pointer;
        }

        .login-form-group select:focus {
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(200, 159, 93, 0.1);
        }

        /* Success Message */
        .login-success {
            background: #dcfce7;
            border: 1px solid #86efac;
            color: #166534;
            padding: 0.875rem;
            border-radius: 12px;
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .login-success::before {
            content: '✓';
            font-size: 1.125rem;
        }

        @media (max-width: 500px) {
            .login-form-row {
                grid-template-columns: 1fr;
            }

            .login-modal-content {
                padding: 1.5rem;
                max-height: 90vh;
                overflow-y: auto;
            }
        }
    </style>

    <script>
        // Auth Modal Functions
        function openLoginModal() {
            document.getElementById('loginModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
            switchTab('login');
            document.getElementById('loginEmail').focus();
        }

        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
            document.body.style.overflow = '';
            // Clear forms
            document.getElementById('loginForm').reset();
            document.getElementById('registerForm').reset();
            // Hide messages
            document.getElementById('authError').style.display = 'none';
            document.getElementById('authSuccess').style.display = 'none';
        }

        function switchTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');

            // Hide messages
            document.getElementById('authError').style.display = 'none';
            document.getElementById('authSuccess').style.display = 'none';

            if (tab === 'login') {
                loginTab.classList.add('active');
                registerTab.classList.remove('active');
                loginForm.style.display = 'flex';
                registerForm.style.display = 'none';
            } else {
                loginTab.classList.remove('active');
                registerTab.classList.add('active');
                loginForm.style.display = 'none';
                registerForm.style.display = 'flex';
            }
        }

        // Close modal on Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && document.getElementById('loginModal').style.display === 'flex') {
                closeLoginModal();
            }
        });

        // Handle form submissions
        document.addEventListener('DOMContentLoaded', function () {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const authError = document.getElementById('authError');
            const authSuccess = document.getElementById('authSuccess');

            // Login form handler
            loginForm.addEventListener('submit', async function (e) {
                e.preventDefault();

                const loginBtnText = document.getElementById('loginBtnText');
                const loginSpinner = document.getElementById('loginSpinner');
                const loginSubmitBtn = document.getElementById('loginSubmitBtn');

                loginBtnText.style.display = 'none';
                loginSpinner.style.display = 'block';
                loginSubmitBtn.disabled = true;
                authError.style.display = 'none';

                const formData = new FormData(loginForm);
                const email = formData.get('email');
                const password = formData.get('password');

                try {
                    const response = await fetch('/api/login', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email, password }),
                    });

                    const data = await response.json();

                    if (response.ok) {
                        window.location.href = '/dashboard';
                    } else {
                        authError.textContent = data.error || 'Error al iniciar sesión. Verifica tus credenciales.';
                        authError.style.display = 'flex';
                        loginBtnText.style.display = 'inline';
                        loginSpinner.style.display = 'none';
                        loginSubmitBtn.disabled = false;
                    }
                } catch (error) {
                    authError.textContent = 'Error de conexión. Por favor, intenta de nuevo.';
                    authError.style.display = 'flex';
                    loginBtnText.style.display = 'inline';
                    loginSpinner.style.display = 'none';
                    loginSubmitBtn.disabled = false;
                }
            });

            // Register form handler
            registerForm.addEventListener('submit', async function (e) {
                e.preventDefault();

                const registerBtnText = document.getElementById('registerBtnText');
                const registerSpinner = document.getElementById('registerSpinner');
                const registerSubmitBtn = document.getElementById('registerSubmitBtn');

                // Validate passwords match
                const password = document.getElementById('regPassword').value;
                const confirmPassword = document.getElementById('regConfirmPassword').value;

                if (password !== confirmPassword) {
                    authError.textContent = 'Las contraseñas no coinciden.';
                    authError.style.display = 'flex';
                    return;
                }

                registerBtnText.style.display = 'none';
                registerSpinner.style.display = 'block';
                registerSubmitBtn.disabled = true;
                authError.style.display = 'none';

                const formData = new FormData(registerForm);
                const registerData = {
                    name: formData.get('name'),
                    phone: formData.get('phone'),
                    email: formData.get('email'),
                    municipality: formData.get('municipality'),
                    state: 'Estado de México',
                    password: password
                };

                try {
                    const response = await fetch('/api/register', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(registerData),
                    });

                    const data = await response.json();

                    if (response.ok) {
                        // Auto-login successful, redirect to dashboard
                        window.location.href = '/dashboard';
                    } else {
                        authError.textContent = data.error || 'Error al registrar. Intenta de nuevo.';
                        authError.style.display = 'flex';
                        registerBtnText.style.display = 'inline';
                        registerSpinner.style.display = 'none';
                        registerSubmitBtn.disabled = false;
                    }
                } catch (error) {
                    authError.textContent = 'Error de conexión. Por favor, intenta de nuevo.';
                    authError.style.display = 'flex';
                    registerBtnText.style.display = 'inline';
                    registerSpinner.style.display = 'none';
                    registerSubmitBtn.disabled = false;
                }
            });
        });
    </script>

    <script>
        // Carousel functionality
        document.addEventListener('DOMContentLoaded', function () {
            const track = document.querySelector('.carousel-track');
            const dots = document.querySelectorAll('.dot');
            const cards = document.querySelectorAll('.showcase-card');

            if (!track || !dots.length || !cards.length) return;

            let currentIndex = 0;

            // Dot click handlers
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    currentIndex = index;
                    updateCarousel();
                });
            });

            // Scroll detection for manual swipes
            let isScrolling;
            track.addEventListener('scroll', () => {
                clearTimeout(isScrolling);
                isScrolling = setTimeout(() => {
                    const scrollLeft = track.scrollLeft;
                    const cardWidth = cards[0].offsetWidth;
                    const newIndex = Math.round(scrollLeft / cardWidth);

                    if (newIndex !== currentIndex && newIndex >= 0 && newIndex < dots.length) {
                        currentIndex = newIndex;
                        updateDots();
                    }
                }, 50);
            });

            function updateCarousel() {
                const cardWidth = cards[0].offsetWidth;
                track.scrollTo({
                    left: cardWidth * currentIndex,
                    behavior: 'smooth'
                });
                updateDots();
            }

            function updateDots() {
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentIndex);
                });
            }

            // Auto-advance every 5 seconds
            setInterval(() => {
                currentIndex = (currentIndex + 1) % dots.length;
                updateCarousel();
            }, 5000);
        });
    </script>
</body>

</html>